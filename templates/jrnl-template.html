<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PDF TEMPLATE</title>

  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <!-- CSS -->
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
    crossorigin="anonymous"/>
  <link
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
    crossorigin="anonymous"/>

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
          integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
          crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
          integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
          crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
          integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
          crossorigin="anonymous"></script>

  <!-- CUSTOM CSS -->
  <link rel="stylesheet" href="css/pdf.css"/>
  <style media="screen,print">
    body {
      padding: 2rem;
    }

    .watermark {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .watermark > p {
      position: absolute;
      top: 50rem;
      font-size: 22rem;
      color: grey;
      transform: rotate(-35deg);
      opacity: 0.5;
    }

    section {
      height: 219.25rem !important;
      position: relative;
      background-color: #ffffff;
      margin-bottom: 4rem;
      padding-left: 10rem;
      padding-right: 10rem;
    }

    .header {
      margin-top: 5rem;
      margin-bottom: 3rem;
      border-bottom: 0.25rem solid #000000;
    }

    .date-header {
      margin-bottom: 0;
      font-size: 3rem;
    }

    .article-content {
      border-bottom: 0.125rem solid #000000;
    }

    .article-title {
      font-size: 4rem;
    }

    .article-text {
      font-size: 2.5rem;
    }

    .footer {
      position: absolute;
      bottom: 0;
    }

    .document-content {
      padding-top: 50%;
    }

    .document-title {
      font-size: 6rem;
      text-align: center;
      border-bottom: 0.375rem solid #000000;
      padding-bottom: 10rem;
      margin-bottom: 10rem;
    }

    .document-date {
      text-align: center;
      margin-bottom: 5rem;
    }

    .table-of-contents > h3 {
      font-size: 6rem;
      border-bottom: 0.375rem solid #000000;
    }

    .table-of-contents-body {
      font-size: 5rem;
    }

    .table-of-contents {
      padding-top: 15rem;
      text-align: center;
      border-bottom: 0.375rem solid #000000;
      padding-bottom: 10rem;
      margin-bottom: 5rem;
    }

    .center {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: auto;
    }
  </style>
  <style media="print">
    ul {
      page-break-inside: avoid;
    }
  </style>
  <style media="print">
    body {
      padding: 2cm;
    }
    section, h1, p.date-header { page-break-before: always;}
    p { widows: 4;}
    p { orphans: 3;}
    @page {
      size: auto;   /* auto is the initial value */
      margin: 0;  /* this affects the margin in the printer settings */
    }
  </style>
  
</head>
<body>
<main>
  <section class="page-1">
    <div class="document-content text-center">
      <h3 class="document-title" style='color: #f00;'>
        {{ json_obj.document_title }}
      </h3>
      <p class="document-date" style='color: #f00;'>
        {{ json_obj.document_date }}
      </p>
      <img src={{ json_obj.document_logo_src }} alt="logo" class="center"/>
    </div>
    <div class="watermark">
      <p>PREVIEW</p>
    </div>
  </section>
    <section class="page-2">
      <div class="table-of-contents">
        <h3>Table of Contents</h3>
        {% for item in json_obj.table_of_contents %}
        <p class="table-of-contents-body" style='color: #f00;'>{{ item.name }}</p>
        <p class="table-of-contents-body" style='color: #f00;'>{{ item.page }}</p>
        {% endfor %}
      </div>
      <img src={{ json_obj.document_logo_src }} alt="logo" class="center"/>
      <div class="footer">
        <p class="page-number" style='color: #f00;'>2</p>
      </div>
      <div class="watermark">
        <p>PREVIEW</p>
      </div>
    </section>

{% for item in json_obj.table_of_contents %}
    <h1>{{ item.name }}</h1>
    <img src={{ json_obj.document_logo_src }} alt="logo" class="center"/>
    <section>
    {% for page in item.pages %}
      {% for article in page.articles %}
        <div class="header {% if page.page_number is not divisibleby 2 %} text-right {% endif %}">
          <p class="date-header" style='color: #f00;'>
            {{ article.date_header }}
          </p>
        </div>
        <div class="article-content">
          <h3 class="article-title" style='color: #f00;'>
            {{ article.article_title }}
          </h3>
          <p class="article-text" style='color: #f00;'>
            {{ article.article_text }}
          </p>
        </div>
      {% endfor %}

      <div class="footer">
        <p
          class="page-number {% if page.page_number is not divisibleby 2 %} text-right {% endif %}"
          style='color: #f00;'
        >
          {{ page.page_number}}
        </p>
      </div>
      <div class="watermark">
        <p>PREVIEW</p>
      </div>
    {% endfor %}
    </section>
{% endfor %}
</main>
</body>
</html>
